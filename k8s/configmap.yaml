apiVersion: v1
kind: ConfigMap
metadata:
  name: authify-config
  namespace: authify
data:
  PHX_HOST: "auth.example.com"  # Change this to your domain
  PORT: "4000"
  POOL_SIZE: "10"
  ENABLE_METRICS: "true"

  # Clustering configuration for libcluster
  # Uses Kubernetes API strategy with RBAC permissions
  RELEASE_NAMESPACE: "authify"
  # Headless service name for DNS resolution
  CLUSTER_SERVICE_NAME: "authify-internal"
  # RELEASE_NODE is set dynamically in deployment.yaml using Kubernetes downward API
  # POD_NAME is also set dynamically in deployment.yaml
